"use strict"; !(function (t,i){ const s=(function (t){ function i (t){ this.a=t } function s (t){ return v.test(t) } function e (t){ return k.test(t) } function h (t){ return t.replace(A,"\n") } function r (t,i){ this.b=t,this.c=i,this.d=null,this.input=null,this.e=-1,this.f=-1,this.g=-1,this.h=-1,this.i=-1,this.j() } function n (t,i){ this.k=null,this.startLine=1,this.startColumn=0,this.options=i||{},this.tokenizer=new r(this,t) } function a (t,s){ const e=new n(new i(p),s); return e.tokenize(t) } function o (t){ let i; let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}; const e=z.tokenize(t); const h=[]; const r=[]; for (s=new D(s),i=0; i<e.length; i++){ const n=e[i]; if (n.type!==y) { if (n.type===T){ const a=u(n.chars,s); h.push.apply(h,a) } else { h.push(n); } } else { h.push(n); const o=n.tagName.toUpperCase(); const c=o==="A"||N.contains(s.ignoreTags,o); if (!c) { continue; } const p=h.length; f(o,e,++i,h),i+=h.length-p-1 } } for (i=0; i<h.length; i++){ const l=h[i]; switch (l.type){ case y:var m="<"+l.tagName; if (l.attributes.length>0){ const g=d(l.attributes); m+=" "+g.join(" ") }m+=">",r.push(m); break; case C:r.push("</"+l.tagName+">"); break; case T:r.push(b(l.chars)); break; case F:r.push("<!--"+b(l.chars)+"-->") } } return r.join("") } function u (i,s){ for (var e=t.tokenize(i),h=[],r=0; r<e.length; r++){ const n=e[r]; if (n.type==="nl"&&s.nl2br){ h.push({type:y,tagName:"br",attributes:[],l:!0}); } else if (n.isLink&&s.check(n)){ const a=s.resolve(n); const o=a.formatted; const u=a.formattedHref; const f=a.tagName; const b=a.className; const c=a.target; const d=a.attributes; const p=[["href",u]]; b&&p.push(["class",b]),c&&p.push(["target",c]); for (const l in d){ p.push([l,d[l]]); }h.push({type:y,tagName:f,attributes:p,l:!1}),h.push({type:T,chars:o}),h.push({type:C,tagName:f}) } else { h.push({type:T,chars:n.toString()}) } } return h } function f (t,i,s,e){ for (let h=1; s<i.length&&h>0;){ const r=i[s]; r.type===y&&r.tagName.toUpperCase()===t?h++:r.type===C&&r.tagName.toUpperCase()===t&&h--,e.push(r),s++ } return e } function b (t){ return t } function c (t){ return t.replace(/"/g,"&quot;") } function d (t){ for (var i=[],s=0; s<t.length; s++){ const e=t[s]; const h=e[0]; const r=e[1]; i.push(h+'="'+c(r)+'"') } return i } var p={m:"Â "}; const l=/^#[xX]([A-Fa-f0-9]+)$/; const m=/^#([0-9]+)$/; const g=/^([A-Za-z0-9]+)$/; i.prototype.parse=function (t){ if (t){ let i=t.match(l); return i?"&#x"+i[1]+";":(i=t.match(m))?"&#"+i[1]+";":(i=t.match(g),i?this.a[i[1]]||"&"+i[1]+";":void 0) } }; var v=/[\t\n\f ]/; var k=/[A-Za-z]/; var A=/\r\n?/g; r.prototype={j (){ this.d="beforeData",this.input="",this.e=0,this.f=1,this.g=0,this.h=-1,this.i=-1,this.b.j() },tokenize (t){ this.j(),this.tokenizePart(t),this.tokenizeEOF() },tokenizePart (t){ for (this.input+=h(t); this.e<this.input.length;) { this.n[this.d].call(this) } },tokenizeEOF (){ this.o() },o (){ this.d==="data"&&(this.b.p(),this.d="beforeData") },q (){ return this.input.charAt(this.e) },r (){ const t=this.q(); return this.e++,t==="\n"?(this.f++,this.g=0):this.g++,t },s (){ const t=this.input.indexOf(";",this.e); if (t!==-1){ const i=this.input.slice(this.e,t); const s=this.c.parse(i); if (s){ for (let e=i.length; e;) { this.r(),e--; } return this.r(),s } } },t (){ this.h=this.f,this.i=this.g,this.b.tagOpen&&this.b.tagOpen() },n:{beforeData (){ const t=this.q(); t==="<"?(this.d="tagOpen",this.t(),this.r()):(this.d="data",this.b.u()) },data (){ const t=this.q(); t==="<"?(this.b.p(),this.d="tagOpen",this.t(),this.r()):t==="&"?(this.r(),this.b.v(this.s()||"&")):(this.r(),this.b.v(t)) },tagOpen (){ const t=this.r(); t==="!"?this.d="markupDeclaration":t==="/"?this.d="endTagOpen":e(t)&&(this.d="tagName",this.b.w(),this.b.x(t.toLowerCase())) },markupDeclaration (){ const t=this.r(); t==="-"&&this.input.charAt(this.e)==="-"&&(this.r(),this.d="commentStart",this.b.y()) },commentStart (){ const t=this.r(); t==="-"?this.d="commentStartDash":t===">"?(this.b.z(),this.d="beforeData"):(this.b.A(t),this.d="comment") },commentStartDash (){ const t=this.r(); t==="-"?this.d="commentEnd":t===">"?(this.b.z(),this.d="beforeData"):(this.b.A("-"),this.d="comment") },comment (){ const t=this.r(); t==="-"?this.d="commentEndDash":this.b.A(t) },commentEndDash (){ const t=this.r(); t==="-"?this.d="commentEnd":(this.b.A("-"+t),this.d="comment") },commentEnd (){ const t=this.r(); t===">"?(this.b.z(),this.d="beforeData"):(this.b.A("--"+t),this.d="comment") },tagName (){ const t=this.r(); s(t)?this.d="beforeAttributeName":t==="/"?this.d="selfClosingStartTag":t===">"?(this.b.B(),this.d="beforeData"):this.b.x(t) },beforeAttributeName (){ const t=this.q(); return s(t)?void this.r():void (t==="/"?(this.d="selfClosingStartTag",this.r()):t===">"?(this.r(),this.b.B(),this.d="beforeData"):(this.d="attributeName",this.b.C(),this.r(),this.b.D(t))) },attributeName (){ const t=this.q(); s(t)?(this.d="afterAttributeName",this.r()):t==="/"?(this.b.F(!1),this.b.G(),this.r(),this.d="selfClosingStartTag"):t==="="?(this.d="beforeAttributeValue",this.r()):t===">"?(this.b.F(!1),this.b.G(),this.r(),this.b.B(),this.d="beforeData"):(this.r(),this.b.D(t)) },afterAttributeName (){ const t=this.q(); return s(t)?void this.r():void (t==="/"?(this.b.F(!1),this.b.G(),this.r(),this.d="selfClosingStartTag"):t==="="?(this.r(),this.d="beforeAttributeValue"):t===">"?(this.b.F(!1),this.b.G(),this.r(),this.b.B(),this.d="beforeData"):(this.b.F(!1),this.b.G(),this.r(),this.d="attributeName",this.b.C(),this.b.D(t))) },beforeAttributeValue (){ const t=this.q(); s(t)?this.r():t==='"'?(this.d="attributeValueDoubleQuoted",this.b.F(!0),this.r()):t==="'"?(this.d="attributeValueSingleQuoted",this.b.F(!0),this.r()):t===">"?(this.b.F(!1),this.b.G(),this.r(),this.b.B(),this.d="beforeData"):(this.d="attributeValueUnquoted",this.b.F(!1),this.r(),this.b.H(t)) },attributeValueDoubleQuoted (){ const t=this.r(); t==='"'?(this.b.G(),this.d="afterAttributeValueQuoted"):t==="&"?this.b.H(this.s('"')||"&"):this.b.H(t) },attributeValueSingleQuoted (){ const t=this.r(); t==="'"?(this.b.G(),this.d="afterAttributeValueQuoted"):t==="&"?this.b.H(this.s("'")||"&"):this.b.H(t) },attributeValueUnquoted (){ const t=this.q(); s(t)?(this.b.G(),this.r(),this.d="beforeAttributeName"):t==="&"?(this.r(),this.b.H(this.s(">")||"&")):t===">"?(this.b.G(),this.r(),this.b.B(),this.d="beforeData"):(this.r(),this.b.H(t)) },afterAttributeValueQuoted (){ const t=this.q(); s(t)?(this.r(),this.d="beforeAttributeName"):t==="/"?(this.r(),this.d="selfClosingStartTag"):t===">"?(this.r(),this.b.B(),this.d="beforeData"):this.d="beforeAttributeName" },selfClosingStartTag (){ const t=this.q(); t===">"?(this.r(),this.b.I(),this.b.B(),this.d="beforeData"):this.d="beforeAttributeName" },endTagOpen (){ const t=this.r(); e(t)&&(this.d="tagName",this.b.J(),this.b.x(t.toLowerCase())) }}},n.prototype={tokenize (t){ return this.K=[],this.tokenizer.tokenize(t),this.K },tokenizePart (t){ return this.K=[],this.tokenizer.tokenizePart(t),this.K },tokenizeEOF (){ return this.K=[],this.tokenizer.tokenizeEOF(),this.K[0] },j (){ this.k=null,this.startLine=1,this.startColumn=0 },L (){ this.options.M&&(this.k.M={start:{f:this.startLine,g:this.startColumn},N:{f:this.tokenizer.f,g:this.tokenizer.g}}),this.startLine=this.tokenizer.f,this.startColumn=this.tokenizer.g },u (){ this.k={type:"Chars",chars:""},this.K.push(this.k) },v (t){ this.k.chars+=t },p (){ this.L() },y (){ this.k={type:"Comment",chars:""},this.K.push(this.k) },A (t){ this.k.chars+=t },z (){ this.L() },w (){ this.k={type:"StartTag",tagName:"",attributes:[],l:!1},this.K.push(this.k) },J (){ this.k={type:"EndTag",tagName:""},this.K.push(this.k) },B (){ this.L() },I (){ this.k.l=!0 },x (t){ this.k.tagName+=t },C (){ this._currentAttribute=["","",null],this.k.attributes.push(this._currentAttribute) },D (t){ this._currentAttribute[0]+=t },F (t){ this._currentAttribute[2]=t },H (t){ this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=t },G (){}}; var z={HTML5NamedCharRefs:p,EntityParser:i,EventedTokenizer:r,Tokenizer:n,tokenize:a}; var N=t.options; var D=N.Options; var y="StartTag"; var C="EndTag"; var T="Chars"; var F="Comment"; return o }(i)); t.linkifyHtml=s }(window,linkify));
